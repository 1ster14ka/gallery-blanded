import{a as y}from"./assets/vendor-YYpvT8Ui.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))d(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&d(a)}).observe(document,{childList:!0,subtree:!0});function n(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function d(t){if(t.ep)return;t.ep=!0;const r=n(t);fetch(t.href,r)}})();const g="https://api.unsplash.com",L="/search/photos",M="LxvKVGJqiSe6NcEVZOaLXC-f2JIIWZaq_o0WrF8mwJc";async function u(s,e){return(await y.get(`${g}${L}`,{params:{query:s,page:e,per_page:12,orientation:"portrait",client_id:M}})).data}const o={form:document.querySelector(".js-search-form"),list:document.querySelector(".js-gallery"),loader:document.querySelector(".loader"),loadMoar:document.querySelector(".js-load-more")};function f(s){return s.map(({urls:e,description:n})=>`<li class="gallery__item">
            <img src="${e.small}" alt="${n}">
    </li>`).join("")}function m(){o.loader.classList.remove("is-hidden")}function p(){o.loader.classList.add("is-hidden")}function h(){o.loadMoar.classList.remove("is-hidden")}function c(){o.loadMoar.classList.add("is-hidden")}let i=1,l=null;o.form.addEventListener("submit",v);o.loadMoar.addEventListener("click",P);async function v(s){s.preventDefault(),o.list.innerHTML="",m(),i=1,l=s.target.elements["user-search-query"].value.trim();try{const e=await u(l,i);o.list.innerHTML=f(e.results),e.total>12?h():c()}catch(e){console.log(e)}finally{p()}}async function P(s){i+=1,m(),c();try{const e=await u(l,i);o.list.insertAdjacentHTML("beforeend",f(e.results)),Math.ceil(e.total/12)===i?c():h()}catch(e){console.log(e)}finally{p()}}
//# sourceMappingURL=index.js.map
