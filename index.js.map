{"version":3,"file":"index.js","sources":["../src/js/unsplash-api.js","../src/js/refs.js","../src/js/createmarkup.js","../src/js/loader.js","../src/js/loadmoar.js","../src/js/gallery.js"],"sourcesContent":["import axios from 'axios';\nconst BASE_URL = 'https://api.unsplash.com';\nconst ENDPOINT = '/search/photos';\nconst API_KEY = 'LxvKVGJqiSe6NcEVZOaLXC-f2JIIWZaq_o0WrF8mwJc';\n\nexport async function getPhotos(query, page) {\n  const response = await axios.get(`${BASE_URL}${ENDPOINT}`, {\n    params: {\n      query,\n      page,\n      per_page: 12,\n      orientation: 'portrait',\n      client_id: API_KEY,\n    },\n  });\n  return response.data;\n}\n","export const refs = {\n  form: document.querySelector('.js-search-form'),\n  list: document.querySelector('.js-gallery'),\n  loader: document.querySelector('.loader'),\n  loadMoar: document.querySelector(\".js-load-more\"),\n};\n","export function createMarkup(arr) {\n  return arr\n    .map(\n      ({ urls, description }) =>\n        `<li class=\"gallery__item\">\n            <img src=\"${urls.small}\" alt=\"${description}\">\n    </li>`\n    )\n    .join('');\n}\n","import { refs } from './refs';\n\nexport function showLoader() {\n  refs.loader.classList.remove('is-hidden');\n}\n\nexport function hideLoader() {\n  refs.loader.classList.add('is-hidden');\n}\n","import { refs } from './refs';\n\nexport function showBtn() {\n  refs.loadMoar.classList.remove('is-hidden');\n}\n\nexport function hideBtn() {\n  refs.loadMoar.classList.add('is-hidden');\n}\n","import { getPhotos } from './unsplash-api';\nimport { refs } from './refs';\nimport { createMarkup } from './createmarkup';\nimport { showLoader, hideLoader } from './loader';\nimport { showBtn, hideBtn } from './loadmoar';\nimport { ssrExportAllKey } from 'vite/runtime';\n\nlet page = 1;\nlet searchQuery = null;\n\nrefs.form.addEventListener('submit', onSubmit);\nrefs.loadMoar.addEventListener('click', onClick);\n\nasync function onSubmit(event) {\n  event.preventDefault();\n  refs.list.innerHTML = '';\n  showLoader();\n  page = 1;\n  searchQuery = event.target.elements['user-search-query'].value.trim();\n\n  try {\n    const response = await getPhotos(searchQuery, page);\n    refs.list.innerHTML = createMarkup(response.results);\n    response.total > 12 ? showBtn() : hideBtn();\n  } catch (error) {\n    console.log(error);\n  } finally {\n    hideLoader();\n  }\n}\n\nasync function onClick(event) {\n  page += 1;\n  showLoader();\n  hideBtn();\n\n  try {\n    const response = await getPhotos(searchQuery, page);\n    refs.list.insertAdjacentHTML('beforeend', createMarkup(response.results));\n    const lastPage = Math.ceil(response.total / 12);\n    lastPage === page ? hideBtn() : showBtn();\n  } catch (error) {\n    console.log(error);\n  } finally {\n    hideLoader();\n  }\n}\n"],"names":["BASE_URL","ENDPOINT","API_KEY","getPhotos","query","page","axios","refs","createMarkup","arr","urls","description","showLoader","hideLoader","showBtn","hideBtn","searchQuery","onSubmit","onClick","event","response","error"],"mappings":"svBACA,MAAMA,EAAW,2BACXC,EAAW,iBACXC,EAAU,8CAET,eAAeC,EAAUC,EAAOC,EAAM,CAU3C,OATiB,MAAMC,EAAM,IAAI,GAAGN,CAAQ,GAAGC,CAAQ,GAAI,CACzD,OAAQ,CACN,MAAAG,EACA,KAAAC,EACA,SAAU,GACV,YAAa,WACb,UAAWH,CACZ,CACL,CAAG,GACe,IAClB,CChBO,MAAMK,EAAO,CAClB,KAAM,SAAS,cAAc,iBAAiB,EAC9C,KAAM,SAAS,cAAc,aAAa,EAC1C,OAAQ,SAAS,cAAc,SAAS,EACxC,SAAU,SAAS,cAAc,eAAe,CAClD,ECLO,SAASC,EAAaC,EAAK,CAChC,OAAOA,EACJ,IACC,CAAC,CAAE,KAAAC,EAAM,YAAAC,CAAa,IACpB;AAAA,wBACgBD,EAAK,KAAK,UAAUC,CAAW;AAAA,UAElD,EACA,KAAK,EAAE,CACZ,CCPO,SAASC,GAAa,CAC3BL,EAAK,OAAO,UAAU,OAAO,WAAW,CAC1C,CAEO,SAASM,GAAa,CAC3BN,EAAK,OAAO,UAAU,IAAI,WAAW,CACvC,CCNO,SAASO,GAAU,CACxBP,EAAK,SAAS,UAAU,OAAO,WAAW,CAC5C,CAEO,SAASQ,GAAU,CACxBR,EAAK,SAAS,UAAU,IAAI,WAAW,CACzC,CCDA,IAAIF,EAAO,EACPW,EAAc,KAElBT,EAAK,KAAK,iBAAiB,SAAUU,CAAQ,EAC7CV,EAAK,SAAS,iBAAiB,QAASW,CAAO,EAE/C,eAAeD,EAASE,EAAO,CAC7BA,EAAM,eAAc,EACpBZ,EAAK,KAAK,UAAY,GACtBK,IACAP,EAAO,EACPW,EAAcG,EAAM,OAAO,SAAS,mBAAmB,EAAE,MAAM,OAE/D,GAAI,CACF,MAAMC,EAAW,MAAMjB,EAAUa,EAAaX,CAAI,EAClDE,EAAK,KAAK,UAAYC,EAAaY,EAAS,OAAO,EACnDA,EAAS,MAAQ,GAAKN,EAAS,EAAGC,EAAO,CAC1C,OAAQM,EAAO,CACd,QAAQ,IAAIA,CAAK,CACrB,QAAY,CACRR,GACD,CACH,CAEA,eAAeK,EAAQC,EAAO,CAC5Bd,GAAQ,EACRO,IACAG,IAEA,GAAI,CACF,MAAMK,EAAW,MAAMjB,EAAUa,EAAaX,CAAI,EAClDE,EAAK,KAAK,mBAAmB,YAAaC,EAAaY,EAAS,OAAO,CAAC,EACvD,KAAK,KAAKA,EAAS,MAAQ,EAAE,IACjCf,EAAOU,EAAS,EAAGD,EAAO,CACxC,OAAQO,EAAO,CACd,QAAQ,IAAIA,CAAK,CACrB,QAAY,CACRR,GACD,CACH"}